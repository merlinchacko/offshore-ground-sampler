<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <changeSet id="1" author="admin">
        <createTable tableName="location">
            <column name="location_id" type="BIGINT">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addAutoIncrement columnName="location_id" tableName="location" columnDataType="BIGINT"/>
    </changeSet>

    <!-- ChangeSet to insert dummy data into Location table -->
    <changeSet id="2" author="admin">
        <insert tableName="location">
            <column name="location_id" value="1"/>
            <column name="name" value="New York"/>
        </insert>
        <insert tableName="location">
            <column name="location_id" value="2"/>
            <column name="name" value="Los Angeles"/>
        </insert>
    </changeSet>

    <!-- ChangeSet to create the Sample table with new fields -->
    <changeSet id="3" author="admin">
        <createTable tableName="sample">
            <column name="sample_id" type="BIGINT">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="location_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="date_collected" type="DATE">
                <constraints nullable="false"/>
            </column>
            <column name="unit_weight" type="DECIMAL(5,2)">
                <constraints nullable="false"/>
            </column>
            <column name="water_content" type="DECIMAL(5,2)">
                <constraints nullable="false"/>
            </column>
            <column name="shear_strength" type="DECIMAL(5,2)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addAutoIncrement columnName="sample_id" tableName="sample" columnDataType="BIGINT"/>
    </changeSet>

    <!-- ChangeSet to insert sample data into Sample table -->
    <changeSet id="5" author="admin">
        <insert tableName="sample">
            <column name="sample_id" value="1"/>
            <column name="location_id" value="1"/>
            <column name="date_collected" value="2025-01-01"/>
            <column name="unit_weight" value="15.5"/>
            <column name="water_content" value="12.5"/>
            <column name="shear_strength" value="50.0"/>
        </insert>
        <insert tableName="sample">
            <column name="sample_id" value="2"/>
            <column name="location_id" value="2"/>
            <column name="date_collected" value="2025-01-02"/>
            <column name="unit_weight" value="16.0"/>
            <column name="water_content" value="10.0"/>
            <column name="shear_strength" value="75.0"/>
        </insert>
    </changeSet>

</databaseChangeLog>